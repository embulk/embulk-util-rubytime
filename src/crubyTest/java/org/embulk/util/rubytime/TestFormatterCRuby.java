/*
 * Copyright 2020 The Embulk project
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.embulk.util.rubytime;

import static org.junit.jupiter.api.Assertions.assertEquals;

import java.time.Instant;
import java.time.OffsetDateTime;
import java.time.ZonedDateTime;
import java.time.ZoneOffset;
import java.util.Collections;
import java.util.List;
import java.util.stream.Stream;
import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.Arguments;
import org.junit.jupiter.params.provider.MethodSource;

public class TestFormatterCRuby {
    /**
     * Tests with {@link java.time.ZonedDateTime} compared for Ruby {@code Time#strftime}.
     *
     * @see <a href="https://docs.ruby-lang.org/en/2.5.0/Time.html#method-i-strftime">Time#strftime</a>
     */
    @ParameterizedTest
    @MethodSource("provideZonedDateTimeArgs")
    public void testWithZonedDateTime(final String date, final String format) throws Exception {
        assertZonedDateTime(date, format);
    }

    /**
     * Tests with {@link java.time.Instant} compared for Ruby {@code Time#strftime}.
     *
     * @see <a href="https://docs.ruby-lang.org/en/2.5.0/Time.html#method-i-strftime">Time#strftime</a>
     */
    @ParameterizedTest
    @MethodSource("provideInstantArgs")
    public void testWithInstant(final String date, final String format) throws Exception {
        assertInstant(date, format);
    }

    private static void assertZonedDateTime(final String timeString, final String format) throws Exception {
        final ZonedDateTime time = ZonedDateTime.parse(timeString);
        final String expected = runCRubyStrftimeFromZonedDateTime(time, format);

        final RubyDateTimeFormatter formatter = RubyDateTimeFormatter.ofPattern(format);
        final String actual = "\"" + formatter.format(time) + "\"";

        System.out.println(timeString + "[" + format + "] => " + expected + " v.s. " + actual);
        assertEquals(expected, actual);
    }

    private static String runCRubyStrftimeFromZonedDateTime(final ZonedDateTime time, final String format) throws Exception {
        final String oneLiner =
                "require 'time'; " +
                "time = " + buildRubyTimeNewFromZonedDateTime(time) + "; " +
                "print '\"' + time.strftime(\"" + format + "\") + '\"'";
        final List<String> crubyResult;
        try {
            crubyResult = cruby.callOneLiner(oneLiner);
        } catch (final Exception ex) {
            throw ex;
        }
        assertEquals(1, crubyResult.size());
        return crubyResult.get(0);
    }

    private static String buildRubyTimeNewFromZonedDateTime(final ZonedDateTime datetime) {
        if (datetime.getOffset().getTotalSeconds() == 0) {
            return String.format(
                    "Time.at(%d, Rational(%d, 1000)).utc",
                    datetime.toInstant().getEpochSecond(),
                    datetime.getNano());
        } else {
            return String.format(
                    "Time.at(%d, Rational(%d, 1000)).localtime(%s)",
                    datetime.toInstant().getEpochSecond(),
                    datetime.getNano(),
                    datetime.getOffset().getTotalSeconds());
        }
    }

    private static void assertInstant(final String timeString, final String format) throws Exception {
        final Instant time;
        if (timeString.contains(".")) {
            final String[] timeStrings = timeString.split("\\.");
            time = Instant.ofEpochSecond(Long.parseLong(timeStrings[0]), Integer.parseInt(timeStrings[1]));
        } else {
            time = Instant.ofEpochSecond(Long.parseLong(timeString));
        }

        final String expected = runCRubyStrftimeFromInstant(time, format);

        final RubyDateTimeFormatter formatter = RubyDateTimeFormatter.ofPattern(format);
        final String actual = "\"" + formatter.format(time.atOffset(ZoneOffset.UTC)) + "\"";

        System.out.println(timeString + "[" + format + "] => " + expected + " v.s. " + actual);
        assertEquals(expected, actual);
    }

    private static String runCRubyStrftimeFromInstant(final Instant time, final String format) throws Exception {
        final String oneLiner =
                "require 'time'; " +
                "time = " + buildRubyTimeNewFromInstant(time) + "; " +
                "print '\"' + time.strftime(\"" + format + "\") + '\"'";
        final List<String> crubyResult;
        try {
            crubyResult = cruby.callOneLiner(oneLiner);
        } catch (final Exception ex) {
            throw ex;
        }
        assertEquals(1, crubyResult.size());
        return crubyResult.get(0);
    }

    private static String buildRubyTimeNewFromInstant(final Instant instant) {
        return String.format(
                "Time.at(%d, Rational(%d, 1000)).utc",
                instant.getEpochSecond(),
                instant.getNano());
    }

    @BeforeAll
    public static void loadCRubyCaller() {
        cruby = new CRubyCaller();
    }

    private static Stream<Arguments> provideZonedDateTimeArgs() {
        final Stream.Builder<Arguments> builder = Stream.builder();
        for (int i = 0; i < ZONED_DATE_TIME_ARGS.length; i += 2) {
            builder.add(Arguments.of(ZONED_DATE_TIME_ARGS[i], ZONED_DATE_TIME_ARGS[i + 1]));
        }
        return builder.build();
    }

    private static Stream<Arguments> provideInstantArgs() {
        final Stream.Builder<Arguments> builder = Stream.builder();
        for (int i = 0; i < INSTANT_ARGS.length; i += 2) {
            builder.add(Arguments.of(INSTANT_ARGS[i], INSTANT_ARGS[i + 1]));
        }
        return builder.build();
    }

    private static final String[] ZONED_DATE_TIME_ARGS = {
        "2020-04-05T23:34:56Z", "%a",
        "2020-04-05T23:34:56Z", "%A",

        "1999-12-31T23:34:56Z", "%a",
        "1999-12-31T23:34:56Z", "%t",
        //"1999-12-31T23:34:56Z", "%+t",
        "1999-12-31T23:34:56Z", "%-t",
        "1999-12-31T23:34:56Z", "%_t",
        "1999-12-31T23:34:56Z", "%%",
        //"1999-12-31T23:34:56Z", "%+%",
        "1999-12-31T23:34:56Z", "%-%",
        "1999-12-31T23:34:56Z", "%_%",
        "1999-12-31T23:34:56Z", "%C",
        "1999-12-31T23:34:56Z", "%0C",
        "1999-12-31T23:34:56Z", "%_C",
        "1999-12-31T23:34:56Z", "%-C",
        "1999-12-31T23:34:56Z", "%4C",
        "1999-12-31T23:34:56Z", "%04C",
        "1999-12-31T23:34:56Z", "%_4C",
        "1999-12-31T23:34:56Z", "%d",
        "1999-12-31T23:34:56Z", "%0d",
        "1999-12-31T23:34:56Z", "%_d",
        "1999-12-31T23:34:56Z", "%-d",
        "1999-12-31T23:34:56Z", "%4d",
        "1999-12-31T23:34:56Z", "%04d",
        "1999-12-31T23:34:56Z", "%_4d",
        "1999-12-31T23:34:56Z", "%e",
        "1999-12-31T23:34:56Z", "%0e",
        "1999-12-31T23:34:56Z", "%_e",
        "1999-12-31T23:34:56Z", "%-e",
        "1999-12-31T23:34:56Z", "%4e",
        "1999-12-31T23:34:56Z", "%04e",
        "1999-12-31T23:34:56Z", "%_4e",

        "2020-01-01T23:34:56Z", "%G",
        "2020-01-01T23:34:56Z", "%g",
        "2019-01-01T23:34:56Z", "%G",
        "2018-01-01T23:34:56Z", "%G",
        "2017-01-01T23:34:56Z", "%G",
        "2016-01-05T23:34:56Z", "%G",
        "2016-01-04T23:34:56Z", "%G",
        "2016-01-03T23:34:56Z", "%G",
        "2016-01-02T23:34:56Z", "%G",
        "2016-01-01T23:34:56Z", "%G",
        "2015-12-31T23:34:56Z", "%G",
        "2015-12-30T23:34:56Z", "%G",
        "2015-12-29T23:34:56Z", "%G",
        "2015-12-28T23:34:56Z", "%G",
        "2015-12-27T23:34:56Z", "%G",
        "2015-01-01T23:34:56Z", "%G",
        "2014-01-01T23:34:56Z", "%G",
        "2013-01-01T23:34:56Z", "%G",
        "2012-01-01T23:34:56Z", "%G",
        "2011-01-01T23:34:56Z", "%G",
        "2010-01-01T23:34:56Z", "%G",

        "-0020-01-01T23:34:56Z", "%0G",
        "-0020-01-01T23:34:56Z", "%03G",
        "-0020-01-01T23:34:56Z", "%04G",
        "-0020-01-01T23:34:56Z", "%05G",
        "-0020-01-01T23:34:56Z", "%06G",

        "1999-12-31T23:34:56Z", "%H",
        "1999-12-31T23:34:56Z", "%0H",
        "1999-12-31T23:34:56Z", "%_H",
        "1999-12-31T23:34:56Z", "%-H",
        "1999-12-31T23:34:56Z", "%4H",
        "1999-12-31T23:34:56Z", "%04H",
        "1999-12-31T23:34:56Z", "%_4H",

        "1999-12-31T23:34:56Z", "%k",
        "1999-12-31T23:34:56Z", "%0k",
        "1999-12-31T23:34:56Z", "%_k",
        "1999-12-31T23:34:56Z", "%-k",
        "1999-12-31T23:34:56Z", "%4k",
        "1999-12-31T23:34:56Z", "%04k",
        "1999-12-31T23:34:56Z", "%_4k",

        "1999-12-31T23:34:56Z", "%I",
        "1999-12-31T23:34:56Z", "%0I",
        "1999-12-31T23:34:56Z", "%_I",
        "1999-12-31T23:34:56Z", "%-I",
        "1999-12-31T23:34:56Z", "%4I",
        "1999-12-31T23:34:56Z", "%04I",
        "1999-12-31T23:34:56Z", "%_4I",

        "1999-12-31T23:34:56Z", "%l",
        "1999-12-31T23:34:56Z", "%0l",
        "1999-12-31T23:34:56Z", "%_l",
        "1999-12-31T23:34:56Z", "%-l",
        "1999-12-31T23:34:56Z", "%4l",
        "1999-12-31T23:34:56Z", "%04l",
        "1999-12-31T23:34:56Z", "%_4l",

        "1999-12-31T23:34:56Z", "%j",
        "1999-12-31T23:34:56Z", "%0j",
        "1999-12-31T23:34:56Z", "%_j",
        "1999-12-31T23:34:56Z", "%-j",
        "1999-12-31T23:34:56Z", "%4j",
        "1999-12-31T23:34:56Z", "%04j",
        "1999-12-31T23:34:56Z", "%_4j",

        "2000-12-31T23:34:56Z", "%j",
        "2000-12-31T23:34:56Z", "%0j",
        "2000-12-31T23:34:56Z", "%_j",
        "2000-12-31T23:34:56Z", "%-j",
        "2000-12-31T23:34:56Z", "%4j",
        "2000-12-31T23:34:56Z", "%04j",
        "2000-12-31T23:34:56Z", "%_4j",

        "1999-12-31T23:34:56.987654321Z", "%L",
        "1999-12-31T23:34:56.987654321Z", "%0L",
        "1999-12-31T23:34:56.987654321Z", "%_L",
        "1999-12-31T23:34:56.987654321Z", "%-L",
        "1999-12-31T23:34:56.987654321Z", "%3L",
        "1999-12-31T23:34:56.987654321Z", "%03L",
        "1999-12-31T23:34:56.987654321Z", "%_3L",
        "1999-12-31T23:34:56.987654321Z", "%6L",
        "1999-12-31T23:34:56.987654321Z", "%06L",
        "1999-12-31T23:34:56.987654321Z", "%_6L",
        "1999-12-31T23:34:56.987654321Z", "%7L",
        "1999-12-31T23:34:56.987654321Z", "%07L",
        "1999-12-31T23:34:56.987654321Z", "%_7L",
        "1999-12-31T23:34:56.987654321Z", "%9L",
        "1999-12-31T23:34:56.987654321Z", "%09L",
        "1999-12-31T23:34:56.987654321Z", "%_9L",
        "1999-12-31T23:34:56.987654321Z", "%13L",
        "1999-12-31T23:34:56.987654321Z", "%013L",
        "1999-12-31T23:34:56.987654321Z", "%_13L",

        "1999-12-31T23:34:56.987654321Z", "%N",
        "1999-12-31T23:34:56.987654321Z", "%0N",
        "1999-12-31T23:34:56.987654321Z", "%_N",
        "1999-12-31T23:34:56.987654321Z", "%-N",
        "1999-12-31T23:34:56.987654321Z", "%3N",
        "1999-12-31T23:34:56.987654321Z", "%03N",
        "1999-12-31T23:34:56.987654321Z", "%_3N",
        "1999-12-31T23:34:56.987654321Z", "%6N",
        "1999-12-31T23:34:56.987654321Z", "%06N",
        "1999-12-31T23:34:56.987654321Z", "%_6N",
        "1999-12-31T23:34:56.987654321Z", "%7N",
        "1999-12-31T23:34:56.987654321Z", "%07N",
        "1999-12-31T23:34:56.987654321Z", "%_7N",
        "1999-12-31T23:34:56.987654321Z", "%9N",
        "1999-12-31T23:34:56.987654321Z", "%09N",
        "1999-12-31T23:34:56.987654321Z", "%_9N",
        "1999-12-31T23:34:56.987654321Z", "%13N",
        "1999-12-31T23:34:56.987654321Z", "%013N",
        "1999-12-31T23:34:56.987654321Z", "%_13N",

        "2000-12-31T23:34:56Z", "%M",
        "2000-12-31T23:34:56Z", "%0M",
        "2000-12-31T23:34:56Z", "%_M",
        "2000-12-31T23:34:56Z", "%-M",
        "2000-12-31T23:34:56Z", "%4M",
        "2000-12-31T23:34:56Z", "%04M",
        "2000-12-31T23:34:56Z", "%_4M",

        "2000-12-31T23:34:56Z", "%m",
        "2000-12-31T23:34:56Z", "%0m",
        "2000-12-31T23:34:56Z", "%_m",
        "2000-12-31T23:34:56Z", "%-m",
        "2000-12-31T23:34:56Z", "%4m",
        "2000-12-31T23:34:56Z", "%04m",
        "2000-12-31T23:34:56Z", "%_4m",

        "2000-12-31T11:34:56Z", "%p",
        "2000-12-31T11:34:56Z", "%#p",
        "2000-12-31T11:34:56Z", "%0p",
        "2000-12-31T11:34:56Z", "%_p",
        "2000-12-31T11:34:56Z", "%-p",
        "2000-12-31T11:34:56Z", "%4p",
        "2000-12-31T11:34:56Z", "%04p",
        "2000-12-31T11:34:56Z", "%_4p",

        "2000-12-31T11:34:56Z", "%P",
        "2000-12-31T11:34:56Z", "%#P",
        "2000-12-31T11:34:56Z", "%0P",
        "2000-12-31T11:34:56Z", "%_P",
        "2000-12-31T11:34:56Z", "%-P",
        "2000-12-31T11:34:56Z", "%4P",
        "2000-12-31T11:34:56Z", "%04P",
        "2000-12-31T11:34:56Z", "%_4P",

        "2000-12-31T12:34:56Z", "%p",
        "2000-12-31T12:34:56Z", "%#p",
        "2000-12-31T12:34:56Z", "%0p",
        "2000-12-31T12:34:56Z", "%_p",
        "2000-12-31T12:34:56Z", "%-p",
        "2000-12-31T12:34:56Z", "%4p",
        "2000-12-31T12:34:56Z", "%04p",
        "2000-12-31T12:34:56Z", "%_4p",

        "2000-12-31T12:34:56Z", "%P",
        "2000-12-31T12:34:56Z", "%#P",
        "2000-12-31T12:34:56Z", "%0P",
        "2000-12-31T12:34:56Z", "%_P",
        "2000-12-31T12:34:56Z", "%-P",
        "2000-12-31T12:34:56Z", "%4P",
        "2000-12-31T12:34:56Z", "%04P",
        "2000-12-31T12:34:56Z", "%_4P",

        "2000-12-31T12:34:56Z", "%Q",
        "2000-12-31T12:34:56Z", "%#Q",
        "2000-12-31T12:34:56Z", "%0Q",
        "2000-12-31T12:34:56Z", "%_Q",
        "2000-12-31T12:34:56Z", "%-Q",
        "2000-12-31T12:34:56Z", "%4Q",
        "2000-12-31T12:34:56Z", "%04Q",
        "2000-12-31T12:34:56Z", "%_4Q",

        "2000-12-31T12:34:56Z", "%S",
        "2000-12-31T12:34:56Z", "%0S",
        "2000-12-31T12:34:56Z", "%_S",
        "2000-12-31T12:34:56Z", "%-S",
        "2000-12-31T12:34:56Z", "%4S",
        "2000-12-31T12:34:56Z", "%04S",
        "2000-12-31T12:34:56Z", "%_4S",

        "2000-12-31T12:34:56Z", "%s",
        "2000-12-31T12:34:56Z", "%0s",
        "2000-12-31T12:34:56Z", "%_s",
        "2000-12-31T12:34:56Z", "%-s",
        "2000-12-31T12:34:56Z", "%20s",
        "2000-12-31T12:34:56Z", "%020s",
        "2000-12-31T12:34:56Z", "%_20s",

        "2020-01-01T23:34:56Z", "%U",
        "2019-01-01T23:34:56Z", "%U",
        "2018-01-01T23:34:56Z", "%U",
        "2017-01-07T23:34:56Z", "%U",
        "2017-01-06T23:34:56Z", "%U",
        "2017-01-05T23:34:56Z", "%U",
        "2017-01-04T23:34:56Z", "%U",
        "2017-01-03T23:34:56Z", "%U",
        "2017-01-02T23:34:56Z", "%U",
        "2017-01-01T23:34:56Z", "%U",
        "2016-12-31T23:34:56Z", "%U",
        "2016-12-30T23:34:56Z", "%U",
        "2016-12-29T23:34:56Z", "%U",
        "2016-12-28T23:34:56Z", "%U",
        "2016-12-27T23:34:56Z", "%U",
        "2016-12-26T23:34:56Z", "%U",
        "2016-12-25T23:34:56Z", "%U",
        "2016-01-05T23:34:56Z", "%U",
        "2016-01-04T23:34:56Z", "%U",
        "2016-01-03T23:34:56Z", "%U",
        "2016-01-02T23:34:56Z", "%U",
        "2016-01-01T23:34:56Z", "%U",
        "2015-12-31T23:34:56Z", "%U",
        "2015-12-30T23:34:56Z", "%U",
        "2015-12-29T23:34:56Z", "%U",
        "2015-12-28T23:34:56Z", "%U",
        "2015-12-27T23:34:56Z", "%U",
        "2015-01-01T23:34:56Z", "%U",
        "2014-01-01T23:34:56Z", "%U",
        "2013-01-01T23:34:56Z", "%U",
        "2012-01-01T23:34:56Z", "%U",
        "2011-01-01T23:34:56Z", "%U",
        "2010-01-01T23:34:56Z", "%U",

        "2020-01-01T23:34:56Z", "%W",
        "2019-01-01T23:34:56Z", "%W",
        "2018-01-01T23:34:56Z", "%W",
        "2017-01-07T23:34:56Z", "%W",
        "2017-01-06T23:34:56Z", "%W",
        "2017-01-05T23:34:56Z", "%W",
        "2017-01-04T23:34:56Z", "%W",
        "2017-01-03T23:34:56Z", "%W",
        "2017-01-02T23:34:56Z", "%W",
        "2017-01-01T23:34:56Z", "%W",
        "2016-12-31T23:34:56Z", "%W",
        "2016-12-30T23:34:56Z", "%W",
        "2016-12-29T23:34:56Z", "%W",
        "2016-12-28T23:34:56Z", "%W",
        "2016-12-27T23:34:56Z", "%W",
        "2016-12-26T23:34:56Z", "%W",
        "2016-12-25T23:34:56Z", "%W",
        "2016-01-05T23:34:56Z", "%W",
        "2016-01-04T23:34:56Z", "%W",
        "2016-01-03T23:34:56Z", "%W",
        "2016-01-02T23:34:56Z", "%W",
        "2016-01-01T23:34:56Z", "%W",
        "2015-12-31T23:34:56Z", "%W",
        "2015-12-30T23:34:56Z", "%W",
        "2015-12-29T23:34:56Z", "%W",
        "2015-12-28T23:34:56Z", "%W",
        "2015-12-27T23:34:56Z", "%W",
        "2015-01-01T23:34:56Z", "%W",
        "2014-01-01T23:34:56Z", "%W",
        "2013-01-01T23:34:56Z", "%W",
        "2012-01-01T23:34:56Z", "%W",
        "2011-01-01T23:34:56Z", "%W",
        "2010-01-01T23:34:56Z", "%W",

        "2017-01-07T23:34:56Z", "%u",
        "2017-01-06T23:34:56Z", "%u",
        "2017-01-05T23:34:56Z", "%u",
        "2017-01-04T23:34:56Z", "%u",
        "2017-01-03T23:34:56Z", "%u",
        "2017-01-02T23:34:56Z", "%u",
        "2017-01-01T23:34:56Z", "%u",
        "2017-12-31T12:34:56Z", "%0u",
        "2017-12-31T12:34:56Z", "%_u",
        "2017-12-31T12:34:56Z", "%-u",
        "2017-12-31T12:34:56Z", "%4u",
        "2017-12-31T12:34:56Z", "%04u",
        "2017-12-31T12:34:56Z", "%_4u",

        "2017-01-07T23:34:56Z", "%V",
        "2017-01-06T23:34:56Z", "%V",
        "2017-01-05T23:34:56Z", "%V",
        "2017-01-04T23:34:56Z", "%V",
        "2017-01-03T23:34:56Z", "%V",
        "2017-01-02T23:34:56Z", "%V",
        "2017-01-01T23:34:56Z", "%V",
        "2017-12-31T12:34:56Z", "%0V",
        "2017-12-31T12:34:56Z", "%_V",
        "2017-12-31T12:34:56Z", "%-V",
        "2017-12-31T12:34:56Z", "%4V",
        "2017-12-31T12:34:56Z", "%04V",
        "2017-12-31T12:34:56Z", "%_4V",

        "2017-01-07T23:34:56Z", "%w",
        "2017-01-06T23:34:56Z", "%w",
        "2017-01-05T23:34:56Z", "%w",
        "2017-01-04T23:34:56Z", "%w",
        "2017-01-03T23:34:56Z", "%w",
        "2017-01-02T23:34:56Z", "%w",
        "2017-01-01T23:34:56Z", "%w",
        "2017-12-31T12:34:56Z", "%0w",
        "2017-12-31T12:34:56Z", "%_w",
        "2017-12-31T12:34:56Z", "%-w",
        "2017-12-31T12:34:56Z", "%4w",
        "2017-12-31T12:34:56Z", "%04w",
        "2017-12-31T12:34:56Z", "%_4w",

        "0320-01-01T23:34:56Z", "%Y",
        "0320-12-31T12:34:56Z", "%0Y",
        "0320-12-31T12:34:56Z", "%_Y",
        "0320-12-31T12:34:56Z", "%-Y",
        "0320-12-31T12:34:56Z", "%4Y",
        "0320-12-31T12:34:56Z", "%04Y",
        "0320-12-31T12:34:56Z", "%_4Y",
        "-0320-01-01T23:34:56Z", "%0Y",
        "-0320-01-01T23:34:56Z", "%03Y",
        "-0320-01-01T23:34:56Z", "%04Y",
        "-0320-01-01T23:34:56Z", "%05Y",
        "-0320-01-01T23:34:56Z", "%06Y",

        "0320-01-01T23:34:56Z", "%Y",
        "0320-12-31T12:34:56Z", "%0Y",
        "0320-12-31T12:34:56Z", "%_Y",
        "0320-12-31T12:34:56Z", "%-Y",
        "0320-12-31T12:34:56Z", "%4Y",
        "0320-12-31T12:34:56Z", "%04Y",
        "0320-12-31T12:34:56Z", "%_4Y",
        "-0320-01-01T23:34:56Z", "%0Y",
        "-0320-01-01T23:34:56Z", "%03Y",
        "-0320-01-01T23:34:56Z", "%04Y",
        "-0320-01-01T23:34:56Z", "%05Y",
        "-0320-01-01T23:34:56Z", "%06Y",

        "2020-01-01T23:34:56+00:00", "%Z",
        "2020-01-01T23:34:56+00:00[UTC]", "%Z",
        "2020-01-01T23:34:56+00:00[Europe/London]", "%Z",
        "2020-01-01T23:34:56+09:00[Asia/Tokyo]", "%Z",
        "2020-01-01T23:34:56-07:00[America/Los_Angeles]", "%Z",

        "2020-01-01T23:34:56+00:00", "%:::10z",
        "2020-01-01T23:34:56+00:00", "%::::z",

        "2020-01-01T23:34:56+00:00", "%:::z",
        "2020-01-01T23:34:56+00:00", "%0:::z",
        "2020-01-01T23:34:56+00:00", "%_:::z",
        // https://github.com/embulk/embulk-util-rubytime/issues/65 : "2020-01-01T23:34:56+00:00", "%-:::z",
        "2020-01-01T23:34:56+00:00", "%_15:::z",
        "2020-01-01T23:34:56+00:00", "%015:::z",

        "2020-01-01T23:34:56-00:00", "%:::z",
        "2020-01-01T23:34:56-00:00", "%0:::z",
        "2020-01-01T23:34:56-00:00", "%_:::z",
        // https://github.com/embulk/embulk-util-rubytime/issues/65 : "2020-01-01T23:34:56-00:00", "%-:::z",
        "2020-01-01T23:34:56-00:00", "%_15:::z",
        "2020-01-01T23:34:56-00:00", "%015:::z",

        "2020-01-01T23:34:56+01:00", "%:::z",
        "2020-01-01T23:34:56+02:00", "%0:::z",
        "2020-01-01T23:34:56+03:00", "%_:::z",
        "2020-01-01T23:34:56+04:00", "%-:::z",
        "2020-01-01T23:34:56+05:00", "%_15:::z",
        "2020-01-01T23:34:56+06:00", "%015:::z",
        "2020-01-01T23:34:56+00:11", "%:::z",
        "2020-01-01T23:34:56+01:12", "%0:::z",
        "2020-01-01T23:34:56+02:13", "%_:::z",
        "2020-01-01T23:34:56+03:14", "%-:::z",
        "2020-01-01T23:34:56+04:15", "%_15:::z",
        "2020-01-01T23:34:56+05:16", "%015:::z",
        "2020-01-01T23:34:56+00:11:39", "%:::z",
        "2020-01-01T23:34:56+01:12:38", "%0:::z",
        "2020-01-01T23:34:56+02:13:37", "%_:::z",
        "2020-01-01T23:34:56+03:14:36", "%-:::z",
        "2020-01-01T23:34:56+04:15:35", "%_15:::z",
        "2020-01-01T23:34:56+05:16:34", "%015:::z",
        "2020-01-01T23:34:56+01:00", "%::z",
        "2020-01-01T23:34:56+02:00", "%0::z",
        "2020-01-01T23:34:56+03:00", "%_::z",
        "2020-01-01T23:34:56+04:00", "%-::z",
        "2020-01-01T23:34:56+05:00", "%_15::z",
        "2020-01-01T23:34:56+06:00", "%015::z",
        "2020-01-01T23:34:56+00:11", "%::z",
        "2020-01-01T23:34:56+01:12", "%0::z",
        "2020-01-01T23:34:56+02:13", "%_::z",
        "2020-01-01T23:34:56+03:14", "%-::z",
        "2020-01-01T23:34:56+04:15", "%_15::z",
        "2020-01-01T23:34:56+05:16", "%015::z",
        "2020-01-01T23:34:56+00:11:39", "%::z",
        "2020-01-01T23:34:56+01:12:38", "%0::z",
        "2020-01-01T23:34:56+02:13:37", "%_::z",
        "2020-01-01T23:34:56+03:14:36", "%-::z",
        "2020-01-01T23:34:56+04:15:35", "%_15::z",
        "2020-01-01T23:34:56+05:16:34", "%015::z",
        "2020-01-01T23:34:56+01:00", "%:z",
        "2020-01-01T23:34:56+02:00", "%0:z",
        "2020-01-01T23:34:56+03:00", "%_:z",
        "2020-01-01T23:34:56+04:00", "%-:z",
        "2020-01-01T23:34:56+05:00", "%_15:z",
        "2020-01-01T23:34:56+06:00", "%015:z",
        "2020-01-01T23:34:56+00:11", "%:z",
        "2020-01-01T23:34:56+01:12", "%0:z",
        "2020-01-01T23:34:56+02:13", "%_:z",
        "2020-01-01T23:34:56+03:14", "%-:z",
        "2020-01-01T23:34:56+04:15", "%_15:z",
        "2020-01-01T23:34:56+05:16", "%015:z",
        "2020-01-01T23:34:56+00:11:39", "%:z",
        "2020-01-01T23:34:56+01:12:38", "%0:z",
        "2020-01-01T23:34:56+02:13:37", "%_:z",
        "2020-01-01T23:34:56+03:14:36", "%-:z",
        "2020-01-01T23:34:56+04:15:35", "%_15:z",
        "2020-01-01T23:34:56+05:16:34", "%015:z",
        "2020-01-01T23:34:56+01:00", "%z",
        "2020-01-01T23:34:56+02:00", "%0z",
        "2020-01-01T23:34:56+03:00", "%_z",
        "2020-01-01T23:34:56+04:00", "%-z",
        "2020-01-01T23:34:56+05:00", "%_15z",
        "2020-01-01T23:34:56+06:00", "%015z",
        "2020-01-01T23:34:56+00:11", "%z",
        "2020-01-01T23:34:56+01:12", "%0z",
        "2020-01-01T23:34:56+02:13", "%_z",
        "2020-01-01T23:34:56+03:14", "%-z",
        "2020-01-01T23:34:56+04:15", "%_15z",
        "2020-01-01T23:34:56+05:16", "%015z",
        "2020-01-01T23:34:56+00:11:39", "%z",
        "2020-01-01T23:34:56+01:12:38", "%0z",
        "2020-01-01T23:34:56+02:13:37", "%_z",
        "2020-01-01T23:34:56+03:14:36", "%-z",
        "2020-01-01T23:34:56+04:15:35", "%_15z",
        "2020-01-01T23:34:56+05:16:34", "%015z",

        "2020-01-01T23:34:56-01:00", "%:::z",
        "2020-01-01T23:34:56-02:00", "%0:::z",
        "2020-01-01T23:34:56-03:00", "%_:::z",
        "2020-01-01T23:34:56-04:00", "%-:::z",
        "2020-01-01T23:34:56-05:00", "%_15:::z",
        "2020-01-01T23:34:56-06:00", "%015:::z",
        "2020-01-01T23:34:56-00:21", "%:::z",
        "2020-01-01T23:34:56-01:22", "%0:::z",
        "2020-01-01T23:34:56-02:23", "%_:::z",
        "2020-01-01T23:34:56-03:24", "%-:::z",
        "2020-01-01T23:34:56-04:25", "%_15:::z",
        "2020-01-01T23:34:56-05:26", "%015:::z",
        "2020-01-01T23:34:56-00:21:49", "%:::z",
        "2020-01-01T23:34:56-01:22:48", "%0:::z",
        "2020-01-01T23:34:56-02:23:47", "%_:::z",
        "2020-01-01T23:34:56-03:24:46", "%-:::z",
        "2020-01-01T23:34:56-04:25:45", "%_15:::z",
        "2020-01-01T23:34:56-05:26:44", "%015:::z",
        "2020-01-01T23:34:56-01:00", "%::z",
        "2020-01-01T23:34:56-02:00", "%0::z",
        "2020-01-01T23:34:56-03:00", "%_::z",
        "2020-01-01T23:34:56-04:00", "%-::z",
        "2020-01-01T23:34:56-05:00", "%_15::z",
        "2020-01-01T23:34:56-06:00", "%015::z",
        "2020-01-01T23:34:56-00:21", "%::z",
        "2020-01-01T23:34:56-01:22", "%0::z",
        "2020-01-01T23:34:56-02:23", "%_::z",
        "2020-01-01T23:34:56-03:24", "%-::z",
        "2020-01-01T23:34:56-04:25", "%_15::z",
        "2020-01-01T23:34:56-05:26", "%015::z",
        "2020-01-01T23:34:56-00:21:49", "%::z",
        "2020-01-01T23:34:56-01:22:48", "%0::z",
        "2020-01-01T23:34:56-02:23:47", "%_::z",
        "2020-01-01T23:34:56-03:24:46", "%-::z",
        "2020-01-01T23:34:56-04:25:45", "%_15::z",
        "2020-01-01T23:34:56-05:26:44", "%015::z",
        "2020-01-01T23:34:56-01:00", "%:z",
        "2020-01-01T23:34:56-02:00", "%0:z",
        "2020-01-01T23:34:56-03:00", "%_:z",
        "2020-01-01T23:34:56-04:00", "%-:z",
        "2020-01-01T23:34:56-05:00", "%_15:z",
        "2020-01-01T23:34:56-06:00", "%015:z",
        "2020-01-01T23:34:56-00:21", "%:z",
        "2020-01-01T23:34:56-01:22", "%0:z",
        "2020-01-01T23:34:56-02:23", "%_:z",
        "2020-01-01T23:34:56-03:24", "%-:z",
        "2020-01-01T23:34:56-04:25", "%_15:z",
        "2020-01-01T23:34:56-05:26", "%015:z",
        "2020-01-01T23:34:56-00:21:49", "%:z",
        "2020-01-01T23:34:56-01:22:48", "%0:z",
        "2020-01-01T23:34:56-02:23:47", "%_:z",
        "2020-01-01T23:34:56-03:24:46", "%-:z",
        "2020-01-01T23:34:56-04:25:45", "%_15:z",
        "2020-01-01T23:34:56-05:26:44", "%015:z",
        "2020-01-01T23:34:56-01:00", "%z",
        "2020-01-01T23:34:56-02:00", "%0z",
        "2020-01-01T23:34:56-03:00", "%_z",
        "2020-01-01T23:34:56-04:00", "%-z",
        "2020-01-01T23:34:56-05:00", "%_15z",
        "2020-01-01T23:34:56-06:00", "%015z",
        "2020-01-01T23:34:56-00:21", "%z",
        "2020-01-01T23:34:56-01:22", "%0z",
        "2020-01-01T23:34:56-02:23", "%_z",
        "2020-01-01T23:34:56-03:24", "%-z",
        "2020-01-01T23:34:56-04:25", "%_15z",
        "2020-01-01T23:34:56-05:26", "%015z",
        "2020-01-01T23:34:56-00:21:49", "%z",
        "2020-01-01T23:34:56-01:22:48", "%0z",
        "2020-01-01T23:34:56-02:23:47", "%_z",
        "2020-01-01T23:34:56-03:24:46", "%-z",
        "2020-01-01T23:34:56-04:25:45", "%_15z",
        "2020-01-01T23:34:56-05:26:44", "%015z",

        "2000-12-31T12:34:56Z", "%c",
        "2000-12-31T12:34:56Z", "%^c",
        "2000-12-31T12:34:56Z", "%#c",
        "2000-12-31T12:34:56Z", "%0c",
        "2000-12-31T12:34:56Z", "%_c",
        "2000-12-31T12:34:56Z", "%-c",
        "2000-12-31T12:34:56Z", "%26c",
        "2000-12-31T12:34:56Z", "%026c",
        "2000-12-31T12:34:56Z", "%_26c",

        "2000-12-31T12:34:56Z", "%D",
        "2000-12-31T12:34:56Z", "%^D",
        "2000-12-31T12:34:56Z", "%#D",
        "2000-12-31T12:34:56Z", "%0D",
        "2000-12-31T12:34:56Z", "%_D",
        "2000-12-31T12:34:56Z", "%-D",
        "2000-12-31T12:34:56Z", "%12D",
        "2000-12-31T12:34:56Z", "%012D",
        "2000-12-31T12:34:56Z", "%_12D",

        "2000-12-31T12:34:56Z", "%x",
        "2000-12-31T12:34:56Z", "%^x",
        "2000-12-31T12:34:56Z", "%#x",
        "2000-12-31T12:34:56Z", "%0x",
        "2000-12-31T12:34:56Z", "%_x",
        "2000-12-31T12:34:56Z", "%-x",
        "2000-12-31T12:34:56Z", "%12x",
        "2000-12-31T12:34:56Z", "%012x",
        "2000-12-31T12:34:56Z", "%_12x",

        "2000-12-31T12:34:56Z", "%F",
        "2000-12-31T12:34:56Z", "%^F",
        "2000-12-31T12:34:56Z", "%#F",
        "2000-12-31T12:34:56Z", "%0F",
        "2000-12-31T12:34:56Z", "%_F",
        "2000-12-31T12:34:56Z", "%-F",
        "2000-12-31T12:34:56Z", "%15F",
        "2000-12-31T12:34:56Z", "%015F",
        "2000-12-31T12:34:56Z", "%_15F",

        "2000-12-31T12:34:56Z", "%R",
        "2000-12-31T12:34:56Z", "%^R",
        "2000-12-31T12:34:56Z", "%#R",
        "2000-12-31T12:34:56Z", "%0R",
        "2000-12-31T12:34:56Z", "%_R",
        "2000-12-31T12:34:56Z", "%-R",
        "2000-12-31T12:34:56Z", "%10R",
        "2000-12-31T12:34:56Z", "%010R",
        "2000-12-31T12:34:56Z", "%_10R",

        "2000-12-31T12:34:56Z", "%r",
        "2000-12-31T12:34:56Z", "%^r",
        "2000-12-31T12:34:56Z", "%#r",
        "2000-12-31T12:34:56Z", "%0r",
        "2000-12-31T12:34:56Z", "%_r",
        "2000-12-31T12:34:56Z", "%-r",
        "2000-12-31T12:34:56Z", "%15r",
        "2000-12-31T12:34:56Z", "%015r",
        "2000-12-31T12:34:56Z", "%_15r",

        "2000-12-31T12:34:56Z", "%T",
        "2000-12-31T12:34:56Z", "%^T",
        "2000-12-31T12:34:56Z", "%#T",
        "2000-12-31T12:34:56Z", "%0T",
        "2000-12-31T12:34:56Z", "%_T",
        "2000-12-31T12:34:56Z", "%-T",
        "2000-12-31T12:34:56Z", "%15T",
        "2000-12-31T12:34:56Z", "%015T",
        "2000-12-31T12:34:56Z", "%_15T",

        "2000-12-31T12:34:56Z", "%V",
        "2000-12-31T12:34:56Z", "%^V",
        "2000-12-31T12:34:56Z", "%#V",
        "2000-12-31T12:34:56Z", "%0V",
        "2000-12-31T12:34:56Z", "%_V",
        "2000-12-31T12:34:56Z", "%-V",
        "2000-12-31T12:34:56Z", "%15V",
        "2000-12-31T12:34:56Z", "%015V",
        "2000-12-31T12:34:56Z", "%_15V",

        "2000-12-31T12:34:56Z", "%+",
        "2000-12-31T12:34:56Z", "%^+",
        "2000-12-31T12:34:56Z", "%#+",
        "2000-12-31T12:34:56Z", "%0+",
        "2000-12-31T12:34:56Z", "%_+",
        "2000-12-31T12:34:56Z", "%-+",
        "2000-12-31T12:34:56Z", "%26+",
        "2000-12-31T12:34:56Z", "%026+",
        "2000-12-31T12:34:56Z", "%_26+",

        "2001-10-01T00:00:00Z", "%F",
        "2001-10-01T00:00:00Z", "\u3042%Z",

        "2001-10-01T02:00:00Z", "%d",
        "2001-10-01T02:00:00Z", "%0d",
        "2001-10-01T02:00:00Z", "%_d",
        "2001-10-01T02:00:00Z", "%e",
        "2001-10-01T02:00:00Z", "%0e",
        "2001-10-01T02:00:00Z", "%_e",
        "2001-10-01T02:00:00Z", "%p",
        "2001-10-01T02:00:00Z", "%#p",
        "2001-10-01T02:00:00Z", "%P",
        "2001-10-01T02:00:00Z", "%#P",
        "2001-10-01T02:00:00Z", "%H",
        "2001-10-01T02:00:00Z", "%0H",
        "2001-10-01T02:00:00Z", "%_H",
        "2001-10-01T02:00:00Z", "%I",
        "2001-10-01T02:00:00Z", "%0I",
        "2001-10-01T02:00:00Z", "%_I",
        "2001-10-01T02:00:00Z", "%k",
        "2001-10-01T02:00:00Z", "%0k",
        "2001-10-01T02:00:00Z", "%_k",
        "2001-10-01T02:00:00Z", "%l",
        "2001-10-01T02:00:00Z", "%0l",
        "2001-10-01T02:00:00Z", "%_l",

        "2001-10-01T14:00:00Z", "%p",
        "2001-10-01T14:00:00Z", "%#p",
        "2001-10-01T14:00:00Z", "%P",
        "2001-10-01T14:00:00Z", "%#P",
        "2001-10-01T14:00:00Z", "%H",
        "2001-10-01T14:00:00Z", "%0H",
        "2001-10-01T14:00:00Z", "%_H",
        "2001-10-01T14:00:00Z", "%I",
        "2001-10-01T14:00:00Z", "%0I",
        "2001-10-01T14:00:00Z", "%_I",
        "2001-10-01T14:00:00Z", "%k",
        "2001-10-01T14:00:00Z", "%0k",
        "2001-10-01T14:00:00Z", "%_k",
        "2001-10-01T14:00:00Z", "%l",
        "2001-10-01T14:00:00Z", "%0l",
        "2001-10-01T14:00:00Z", "%_l",
        "2001-10-01T14:00:00Z", "%^a",
        "2001-10-01T14:00:00Z", "%^b",

        "2001-10-01T02:00:00Z", "%4^p",  // prec after flag

        "0001-01-04T00:00:00Z", "%Y",
        "0001-01-04T00:00:00Z", "%G",

        "0000-01-04T00:00:00Z", "%Y",
        "0000-01-04T00:00:00Z", "%G",

        "-0001-01-04T00:00:00Z", "%Y",
        "-0001-01-04T00:00:00Z", "%G",

        // Year > 1000000000 is not supported in java.time.
        // "10000000000000000000000-01-04T00:00:00Z", "%Y",
        // "10000000000000000000000-01-04T00:00:00Z", "%24Y",
        // "10000000000000000000000-01-04T00:00:00Z", "%024Y",
        // "10000000000000000000000-01-04T00:00:00Z", "%_24Y",

        // Year: 999999999 is the maximum in java.time.
        "+999999999-01-04T00:00:00Z", "%Y",
        "+999999999-01-04T00:00:00Z", "%24Y",
        "+999999999-01-04T00:00:00Z", "%024Y",
        "+999999999-01-04T00:00:00Z", "%_24Y",

        "1970-01-18T00:00:00Z", "%w",
        "1970-01-18T00:00:00Z", "%u",

        "2000-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%29N",
        "2000-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%10N",
        "2000-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%9N",
        "2000-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%8N",

        // Subseconds longer than 9 is not supported in embulk-util-rubytime.
        // "1592-03-14T06:53:58.97932384626433832795028841971Z", "%m/%d/%Y %l:%M:%S.%29N",
        // "1592-03-14T06:53:58.97932384626433832795028841971Z", "%m/%d/%Y %l:%M:%S.%10N",
        // "1592-03-14T06:53:58.97932384626433832795028841971Z", "%m/%d/%Y %l:%M:%S.%9N",
        // "1592-03-14T06:53:58.97932384626433832795028841971Z", "%m/%d/%Y %l:%M:%S.%8N",

        "1592-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%29N",
        "1592-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%10N",
        "1592-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%9N",
        "1592-03-14T06:53:58.979323846Z", "%m/%d/%Y %l:%M:%S.%8N",

        "2001-10-01T14:00:00+09:00:00", "%z",
        "2001-10-01T14:00:00+09:00:00", "%:z",
        "2001-10-01T14:00:00+09:00:00", "%::z",
        "2001-10-01T14:00:00+09:00:00", "%:::z",

        "2001-10-01T14:00:00+09:00:01", "%z",
        "2001-10-01T14:00:00+09:00:01", "%:z",
        "2001-10-01T14:00:00+09:00:01", "%::z",
        "2001-10-01T14:00:00+09:00:01", "%:::z",

        "2001-10-01T14:00:00+09:00", "%z",
        "2001-10-01T14:00:00+09:00", "%:z",
        "2001-10-01T14:00:00+09:00", "%_10z",
        "2001-10-01T14:00:00+09:00", "%10z",
        "2001-10-01T14:00:00+09:00", "%_10:z",
        "2001-10-01T14:00:00+09:00", "%10:z",
        "2001-10-01T14:00:00+09:00", "%_10::z",
        "2001-10-01T14:00:00+09:00", "%10::z",
        "2001-10-01T14:00:00+09:00", "%10:::z",

        "2001-10-01T14:00:00-05:00", "%z",
        "2001-10-01T14:00:00-05:00", "%:z",
        "2001-10-01T14:00:00-05:00", "%_10z",
        "2001-10-01T14:00:00-05:00", "%10z",
        "2001-10-01T14:00:00-05:00", "%_10:z",
        "2001-10-01T14:00:00-05:00", "%10:z",
        "2001-10-01T14:00:00-05:00", "%_10::z",
        "2001-10-01T14:00:00-05:00", "%10::z",
        "2001-10-01T14:00:00-05:00", "%10:::z",

        "2001-10-01T14:00:00+00:36", "%z",
        "2001-10-01T14:00:00+00:36", "%_10z",
        "2001-10-01T14:00:00+00:36", "%10z",
        "2001-10-01T14:00:00+00:36", "%_10:z",
        "2001-10-01T14:00:00+00:36", "%10:z",
        "2001-10-01T14:00:00+00:36", "%_10::z",
        "2001-10-01T14:00:00+00:36", "%10::z",
        "2001-10-01T14:00:00+00:36", "%10:::z",

        "2001-10-01T14:00:00-00:55", "%z",
        "2001-10-01T14:00:00-00:55", "%_10z",
        "2001-10-01T14:00:00-00:55", "%10z",
        "2001-10-01T14:00:00-00:55", "%_10:z",
        "2001-10-01T14:00:00-00:55", "%10:z",
        "2001-10-01T14:00:00-00:55", "%_10::z",
        "2001-10-01T14:00:00-00:55", "%10::z",
        "2001-10-01T14:00:00-00:55", "%10:::z",

        "2001-10-01T14:00:00+09:00", "%:y",  // invalid conversion after : modifier
        "2001-10-01T14:00:00+09:00", "%:0z",  // flag after : modifier
        "2001-10-01T14:00:00+09:00", "%:10z",  // prec after : modifier
        "2001-10-01T14:00:00+09:00", "%Ob",  // invalid conversion after locale modifier
        "2001-10-01T14:00:00+09:00", "%Eb",  // invalid conversion after locale modifier
        "2001-10-01T14:00:00+09:00", "%O0y",  // flag after locale modifier
        "2001-10-01T14:00:00+09:00", "%E0y",  // flag after locale modifier
        "2001-10-01T14:00:00+09:00", "%O10y",  // prec after locale modifier
        "2001-10-01T14:00:00+09:00", "%E10y",  // prec after locale modifier
    };

    private static final String[] INSTANT_ARGS = {
        "946684800", "%a",
        "946684800", "%A",
        "946684800", "%b",
        "946684800", "%B",
        "946684800", "%c",
        "946684800", "%d",
        "946684800", "%H",
        "946684800", "%I",
        "946684800", "%j",
        "946684800", "%m",
        "946684800", "%M",
        "946684800", "%p",
        "946684800", "%S",
        "946684800", "%U",
        "946684800", "%W",
        "946684800", "%w",
        "946684800", "%x",
        "946684800", "%X",
        "946684800", "%y",
        "946684800", "%Y",
        "946684800", "%Z",
        "946684800", "%%",
        "946684800", "%-S",
        "946684800", "%r",
        "946684800", "%3a %FT%T",
        "946684800", "",
        // "946684800", "foo\0bar\0%H\0%M\0%S",  // "\0" does not work with CRubyCaller.
        "946684800", String.join("", Collections.nCopies(30, "foo")),
        "946684800.123456789", "%3N",
        "946684800.123456789", "%6N",
        "946684800.123456789", "%9N",
        "946684800.123456789", "%10N",
        "946684800.123456789", "%0N",

        "946684800", "%3S",

        "946684800", "%s",
        "946684800", "<<%s>>",
        "946684800", "<<%24s>>",
        "946684800", "<<%024s>>",
        "946684800", "<<%_24s>>",

        "946684800", "%^Z",
        "946684800", "%#Z",
        "946684800", "%^c",

        "946684800", "%t",
        "946684800", "%0t",
        "946684800", "%1t",
        "946684800", "%3t",
        "946684800", "%03t",
        // "946684800", "%n",  // "%n" does not work well with CRubyCaller.
        // "946684800", "%0n",  // "%n" does not work well with CRubyCaller.
        // "946684800", "%1n",  // "%n" does not work well with CRubyCaller.
        // "946684800", "%3n",  // "%n" does not work well with CRubyCaller.
        // "946684800", "%03n",  // "%n" does not work well with CRubyCaller.

        "946684800", "%#a",
        "946684800", "%#A",
        "946684800", "%#b",
        "946684800", "%#B",
        "946684800", "%#h",
        "946684800", "%#A",

        "3000000000", "%s",
        "946684800", "%8192z",
    };

    private static CRubyCaller cruby;
}
